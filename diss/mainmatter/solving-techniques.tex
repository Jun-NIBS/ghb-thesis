% Copyright (c) 2017, Gabriel Hjort Blindell <ghb@kth.se>
%
% This work is licensed under a Creative Commons 4.0 International License (see
% LICENSE file or visit <http://creativecommons.org/licenses/by/4.0/> for a copy
% of the license).

\chapter{Solving Techniques}
\labelChapter{solving-techniques}

\section{Search Strategies}

\section{Refined Objective Function}
\subsection{Modeling}

\begin{equation}
  \hspace*{-2mm} % Make it fit on one line
  \mCostMatrix =
  \begin{bmatrix}
    \begin{array}{@{\:}c|c@{\:}}
        o, m, b, \big( \mFreq(b) \times \mOpCost(m, o) \big)
      & \begin{array}{@{}c@{}}
          m \in \mMatchSet, \\
          o \in \mCovers(m), \\
          b \in \mBlockSet \\
        \end{array}
    \end{array}
  \end{bmatrix}
  \labelEquation{cost-matrix}
\end{equation}

\begin{equation}
  \hspace*{-2mm} % Make it fit on one line
  \mTable\left(
    \langle
      o,
      \mVar{omatch}[o],
      \mVar{oplace}[o],
      \mVar{ocost}[o]
    \rangle,
    \mCostMatrix
  \right)
  \mQuantSep
  \forall o \in \mOpSet
  \labelEquation{omatch-oplace-ocost-connection}
\end{equation}

\begin{equation}
  \mVar{cost} = \sum_{o \in \mOpSet} \mVar{ocost}[m]
  \labelEquation{total-cost}
\end{equation}

\section{Cost Bounding}
\subsection{Problem}
\subsection{Lower Bound}
\subsubsection{Modeling}

\begin{equation}
  \mRelaxedCost \leq \mVar{cost} < \mLlvmCost
  \labelEquation{bounds}
\end{equation}

\subsection{Upper Bound}
\subsubsection{Modeling}

\section{Presolving}
\subsection{Dominated matches}
\subsection{Illegal matches}
\subsection{Redundant kill instructions}
\subsection{Redundant null-copy instructions}

\section{Implied and Dominance Breaking Constraints}

\todo{mention that \refEquation{pattern-selection-using-gcc} did not give for
  our model}

\section{Experimental Evaluation}
\subsection{Refined Objective Function Vs. Naive Objective Function}
\subsection{With Or Without Presolving}
\subsection{With Or Without Lower And/Or Upper Cost Bound}
\subsection{With Or Without Implied and Dominance Breaking Constraints}

\section{Discussion}
