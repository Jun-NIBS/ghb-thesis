% Copyright (c) 2017, Gabriel Hjort Blindell <ghb@kth.se>
%
% This work is licensed under a Creative Commons 4.0 International License (see
% LICENSE file or visit <http://creativecommons.org/licenses/by/4.0/> for a copy
% of the license).

\chapter{Pattern Matching}
\labelChapter{pattern-matching}

\todo{write chapter summary}



\section{TODO: name intro section}

\todo{write}



\section{Proof That Separating Matching From Selection Preserves Optimality}

\todo{write}


\section{The VF2 Algorithm}

Due to its simplicity and ease of implementation,
\gls{VF2}~\cite{CordellaEtAl:2001} was selected as the \gls{subgraph
  isomorphism} algorithm used in this work.\!%
%
\footnote{%
  In his dissertation, \textcite{McCreesh:2017} advices against using \gls{VF2}
  after showing that, for large body of problem instances, it exhibits
  considerably worse performance compared to two other \gls{subgraph
    isomorphism} algorithms (\gls{LAD}~\cite{Solnon:2010} and
  \gls{Glasgow}~\cite{McCreeshProsser:2015}).
  %
  In case of \gls{instruction selection}, however, the problem instances are
  small enough that the time for finding all \glspl{match} is negligible
  compared to the time for solving the \gls{constraint model}.
}
%
\begin{algorithm}[t]
  \DeclFunction{FindMatches}{subject graph $S$,
                             pattern graph $P$}%
  {%
    $M$ \Assign $\emptyset$\;
    \Call{FindMatchRec}{$\emptyset$}\;
    \Return{$M$}\;
    \DeclFunction{FindMatchRec}{partial match $M$}%
    {%
      $M_c$ \Assign compute mapping candidates\;
      \todo{finish algorithm}
    }
  }

  \caption{VF2 algorithm}
  \labelAlgorithm{vf2-algorithm}
\end{algorithm}
%
The algorithm, given in \refAlgorithm{vf2-algorithm}, recursively checks every
\gls{node}-mapping candidate and applies a set of rules for checking whether the
current mapping will yield a \gls{match}.


\todo{describe algorithm}



\section{Pattern Matching Using Universal Representations}

\todo{write}

\todo{refine coverage definition}



\section{Handling Data Types}

\todo{write}
