% Copyright (c) 2018, Gabriel Hjort Blindell <ghb@kth.se>
%
% This work is licensed under a Creative Commons 4.0 International License (see
% LICENSE file or visit <http://creativecommons.org/licenses/by/4.0/> for a copy
% of the license).
%
\begingroup%
\figureFont\figureFontSize%
\pgfdeclarelayer{background}%
\pgfsetlayers{background,main}%
\setlength{\opNodeDist}{14pt}%
\begin{tikzpicture}[
    block node/.append style={
      minimum width=4em,
    },
  ]

  \node [block node] (entry) {\opBlock{entry}};
  \node [block node, below=of entry] (A) {\opBlock{A}};
  \node [block node, position=-135 degrees from A] (B) {\opBlock{B}};
  \node [block node, position=- 45 degrees from A] (C) {\opBlock{C}};
  \node [block node, position=- 45 degrees from B] (D) {\opBlock{D}};
  \node [block node, below=of D] (E) {\opBlock{E}};
  \begin{pgfonlayer}{background}
    \begin{scope}[control flow]
      \draw (entry) -- (A);
      \draw [rounded corners=6pt]
            (entry)
            -|
            ([xshift=-.75\opNodeDist] B.west)
            |-
            (E);
      \draw (A) -- (B);
      \draw (A) -- (C);
      \draw (B) -- (D);
      \draw (C) -- (D);
      \draw (D) -- (E);
    \end{scope}
  \end{pgfonlayer}
\end{tikzpicture}%
\endgroup%
